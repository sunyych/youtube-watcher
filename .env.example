# Web Configuration
WEB_PASSWORD=admin123
WEB_PORT=8080
API_PORT=8000

# Reverse proxy (optional). Enable with: docker compose --profile proxy up -d
# Leave PROXY_DOMAIN empty to serve on port 80 by IP; set to a domain for HTTPS (e.g. app.example.com).
ENABLE_REVERSE_PROXY=false
PROXY_DOMAIN=
PROXY_HTTP_PORT=80

# Auth
# Set to false to disable user registration.
ALLOW_REGISTRATION=true

# LLM Configuration
OLLAMA_URL=http://host.docker.internal:11434
VLLM_URL=
LLM_MODEL=qwen3:8b

# Hardware Acceleration (mlx/cuda/cpu)
ACCELERATION=cpu

# Database
POSTGRES_USER=youtube_watcher
POSTGRES_PASSWORD=youtube_watcher_pass
POSTGRES_DB=youtube_watcher_db
POSTGRES_PORT=5432

# Data Directories (relative to project root)
VIDEO_STORAGE_DIR=./data/videos
POSTGRES_DATA_DIR=./data/postgres

# JavaScript runtime used by yt-dlp for YouTube challenge solving (recommended: deno)
YTDLP_JAVASCRIPT_RUNTIME=deno

# Enable EJS remote component downloads for solving JS challenges (recommended: ejs:github)
YTDLP_REMOTE_COMPONENTS=ejs:github

# Download retry wrapper (in addition to yt-dlp internal retries)
YTDLP_DOWNLOAD_MAX_ATTEMPTS=1
YTDLP_DOWNLOAD_RETRY_BACKOFF_SECONDS=2.0

# yt-dlp internal retries (default 0 => manual retry only)
YTDLP_RETRIES=0
YTDLP_FRAGMENT_RETRIES=0

# If N videos are blocked (login/bot-check), pause all new downloads for a while.
QUEUE_BLOCKED_THRESHOLD=3
QUEUE_BLOCKED_PAUSE_SECONDS=3600

# Queue download pacing
QUEUE_DOWNLOAD_CONCURRENCY=1
QUEUE_DOWNLOAD_MIN_INTERVAL_SECONDS=60

# Optional: GPU transcribe runner. If set, queue sends audio to this service for faster transcription.
# Run transcribe_runner on your GPU machine (see transcribe_runner/README or docker-compose there), then set:
# TRANSCRIBE_RUNNER_URL=http://<gpu-host-ip>:8765
TRANSCRIBE_RUNNER_URL=
TRANSCRIBE_RUNNER_TIMEOUT_SECONDS=7200
TRANSCRIBE_RUNNER_POLL_INTERVAL_SECONDS=30
